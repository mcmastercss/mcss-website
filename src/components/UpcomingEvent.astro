---
import { getUpcomingEvent } from "../api";
import { capString } from "../utils/globalFunctions";

const upcomingEvent = await getUpcomingEvent();
---

{
  upcomingEvent ? (
    <div class="z-10 flex-initial rounded-3xl border-[8px] border-blue-400 bg-white py-4 px-6 text-blue-700 shadow-lg lg:border-[12px] lg:py-6">
      <h1 class="mb-3 text-base font-bold lg:text-lg">Upcoming event</h1>
      <h1 class="w-9/12 break-words text-2xl font-bold lg:text-4xl">
        {capString(upcomingEvent.title, 25)}
      </h1>
      <p class="mt-5 mb-6 text-sm text-black lg:text-base">
        {capString(upcomingEvent.summary, 200)}
      </p>
      <a
        class="btn btn-md w-full rounded-md bg-blue-700 text-base font-semibold text-white hover:bg-blue-800 lg:text-xl"
        href={`/posts/${upcomingEvent.slug}`}
      >
        View event
      </a>
    </div>
  ) : (
    <> </>
  )
}
